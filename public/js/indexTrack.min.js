function ghostEvidences(){return{spirit:["spirit-box","fingerprints","ghost-writing"],wraith:["spirit-box","fingerprints","freezing-temp"],phantom:["freezing-temp","emf","ghost-orbs"],poltergeist:["spirit-box","fingerprints","ghost-orbs"],banshee:["fingerprints","freezing-temp","emf"],jinn:["spirit-box","emf","ghost-orbs"],mare:["spirit-box","freezing-temp","ghost-orbs"],revenant:["fingerprints","ghost-writing","emf"],shade:["ghost-writing","emf","ghost-orbs"],demon:["spirit-box","ghost-writing","freezing-temp"],yurei:["ghost-writing","freezing-temp","ghost-orbs"],oni:["spirit-box","ghost-writing","emf"]}}document.addEventListener("DOMContentLoaded",(function(){const $selectorsYes=document.querySelectorAll(".has_evid"),$selectorsNo=document.querySelectorAll(".hasnt_evid"),$rows=document.querySelectorAll(".evid_row"),$clearAll=document.querySelector("#btnClear"),$ghostNames=document.querySelectorAll(".evid_row th");function getCheckedEvidence(){let checkedEvidences=[];return $selectorsYes.forEach(selector=>{selector.checked&&checkedEvidences.push(selector.dataset.evidcheck)}),checkedEvidences}function getCheckedUnevidence(){let checkedUnevidences=[];return $selectorsNo.forEach(selector=>{selector.checked&&checkedUnevidences.push(selector.dataset.evidcheck)}),checkedUnevidences}function updateTable(){resetRows(),updateEvidenceTracker(),updateUnevidenceTracker()}function updateEvidenceTracker(){const evidencesObject=ghostEvidences(),evidencesArray=Object.entries(evidencesObject),checkEvidArray=getCheckedEvidence();if(checkEvidArray.length)for(const[ghost,evidence]of evidencesArray){const $cell=document.querySelector("#"+ghost);let hasEvidences=!0;checkEvidArray.forEach(evidType=>{evidence.includes(evidType)||(hasEvidences=!1)}),hasEvidences?$cell.classList.add("row-active"):$cell.classList.add("row-negative")}}function updateUnevidenceTracker(){const evidencesObject=ghostEvidences(),evidencesArray=Object.entries(evidencesObject),checkEvidArray=getCheckedUnevidence();if(checkEvidArray.length)for(const[ghost,evidence]of evidencesArray){const $cell=document.querySelector("#"+ghost);checkEvidArray.forEach(evidType=>{evidence.includes(evidType)&&$cell.classList.add("row-disabled")})}}function resetAll(){$selectorsYes.forEach(sel=>{sel.checked=!1}),$selectorsNo.forEach(sel=>{sel.checked=!1}),resetRows()}function resetRows(){$rows.forEach(row=>{row.classList.remove("row-active","row-disabled","row-negative")})}function ghostInfo(htmlElement){let id=htmlElement.parentElement;id=id.getAttribute("id"),ghostList=ghostPowers(),ghostList=Object.entries(ghostList),ghostList.forEach(ghost=>{if(ghost[0]===id){let $ghostInfo=document.querySelector("#ghostInfo");$ghostInfo.innerHTML='<h4><i class="fa fa-ghost"></i> '+ghost[1].name+"</h4>",$ghostInfo.innerHTML+='<p><i class="fa fa-plus-circle"></i> '+ghost[1].power+"</p>",$ghostInfo.innerHTML+='<p><i class="fa fa-minus-circle"></i> '+ghost[1].weakness+"</p>"}})}resetAll(),$selectorsYes.forEach(selector=>{selector.addEventListener("change",updateTable)}),$selectorsNo.forEach(selector=>{selector.addEventListener("change",updateTable)}),$ghostNames.forEach(row=>{row.addEventListener("click",()=>{ghostInfo(row)})}),$clearAll.addEventListener("click",resetAll)}));