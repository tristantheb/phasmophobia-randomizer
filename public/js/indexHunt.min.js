function htmlRender(e){var t=e.getHunters();localStorage.clear(),localStorage.setItem("SHOW_ANIMATION",SHOW_ANIMATION);for(let e=0;e<t.length;e++){const n=t[e].getAsObject();let a=e+1;const l=document.querySelector("#hunter-"+a);l.innerHTML='<p class="hunter_name t-center">'+n.username+"</p>",localStorage.setItem("hunterName"+e,n.username);let o="",r="";n.itemList.forEach(e=>{let t=checkOnDualList(e[0],items);t=t||checkOnDualList(e[0],itemsLights),o+='<li><img src="./img/'+e[0]+'.png" alt="'+t+'"> '+t+"</li>",r+='<img src="./img/'+e[0]+'.png" alt="'+t+'"> '+t+" "}),r+="<br>",localStorage.setItem("hunterItems"+e,r),l.innerHTML+='<ul class="items-list">'+o+"</ul>"}for(let e=t.length;e<4;e++){let t=e+1;const n=document.querySelector("#hunter-"+t);n.innerHTML=""}}function animateRender(e,t){var n=t.getHunters(),a=[],l=[];$("#animated_block").fadeIn(100),n.forEach(e=>{a.push(e.getName());let t=e.getItems();for(let e=0;e<t.length;e++){let n=checkOnDualList(t[e][0],items);n=n||checkOnDualList(t[e][0],itemsLights),l.push(n)}});let o=1;for(let e=0;e<a.length;e++)for(let t=0;t<n[e].getItems().length;t++)window.setTimeout(textRender,TIMEOUT_DELAY*o,a[e],l[o-1]),o++;playAudio("Heartbeat",.5,!0,TIMEOUT_DELAY*o),window.setTimeout(()=>{$("#animated_block").fadeOut(100),$("#wheel_hunter").html("&nbsp;"),$("#animated_text").html("&nbsp;"),e(t)},TIMEOUT_DELAY*o)}function animateOneItem(e,t,n){$("#animated_block").fadeIn(100);let a=checkOnDualList(n.getLastItem(),items);a=a||checkOnDualList(n.getLastItem(),itemsLights),window.setTimeout(textRender,TIMEOUT_DELAY,n.getName(),a),playAudio("Heartbeat",.5,!0,2*TIMEOUT_DELAY),window.setTimeout(()=>{$("#animated_block").fadeOut(100),$("#wheel_hunter").html("&nbsp;"),$("#animated_text").html("&nbsp;"),e(t)},2*TIMEOUT_DELAY)}function textRender(e,t){if("string"!=typeof e||"string"!=typeof t)return throwError("Wrong parameter detected when the wheel try to who text");$("#wheel_hunter").html(e),$("#animated_text").html(t).fadeIn(500).delay(3e3).fadeOut(500)}const appHunt=new AppHunt,TIMEOUT_DELAY=5e3;localStorage.getItem("SHOW_ANIMATION")||localStorage.setItem("SHOW_ANIMATION",!0);var SHOW_ANIMATION="true"===localStorage.getItem("SHOW_ANIMATION");document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("link[rel=preload]");e.forEach(e=>{e.rel="stylesheet"})}),document.addEventListener("DOMContentLoaded",function(){$("#errBlock").hide();const e=document.querySelector("#wheelAnim");e.checked=SHOW_ANIMATION,e.addEventListener("click",function(){this.checked?(SHOW_ANIMATION=!0,localStorage.setItem("SHOW_ANIMATION",!0)):(SHOW_ANIMATION=!1,localStorage.setItem("SHOW_ANIMATION",!1))},this);const t=document.querySelector("#roomId").textContent,n=document.querySelector("#formHunt"),a=document.querySelector("#classic_mode_maxItems"),l=document.querySelector("#gen_map");a.addEventListener("change",function(){var e=a.selectedIndex;appHunt.setMaxItems(a[e].value)}),n.addEventListener("submit",function(e){e.preventDefault();let a=!1;appHunt.reset();let l=new FormData(n);for(const e of l.entries())e[1]&&e[0].includes("hunter")&&(appHunt.setHunter(htmlEncode(e[1])),a=!0);fetch("/submit"+window.location.pathname+"/"+t,{method:"post","X-Requested-With":"XMLHttpRequest",body:appHunt.getAll()}).then(e=>{console.log(e)}),a&&(SHOW_ANIMATION?animateRender(htmlRender,appHunt):htmlRender(appHunt))}),l.addEventListener("click",function(e){e.preventDefault(),appHunt.generateMap();let t=["Adult","Attack","Away","Baby","Behind","Child","Close","Dad","Daughter","Death","Die","Far","Hate","Here","Hurt","Kid","Kill","Mum","Next","Old","Son","Young"],n=t[getRandomInt(t.length)];playAudio(n,.2,!1);const a=document.querySelector("#map_name");a.innerHTML=appHunt.getMapName()})});